<mujoco model="bruce">
  <compiler angle="radian" meshdir="assets" autolimits="true" balanceinertia="true"/>
  <option cone="elliptic" impratio="100" timestep="0.002"/>
  
  <default>
    <default class="visual">
      <geom contype="0" conaffinity="0" group="2" material="gray"/>
    </default>
    <default class="collision">
      <geom group="3" material="metal" friction="0.4 0.02 0.01"/>
    </default>
    <default class="actuator">
      <motor ctrlrange="-200 200" ctrllimited="true"/>
    </default>
    
    <!-- 关节默认参数 -->
    <default class="abduction">
      <joint axis="1 0 0" damping="0.1" armature="0.01" frictionloss="0.2"/>
    </default>
    <default class="hip">
      <joint axis="0 1 0" damping="0.1" armature="0.01" frictionloss="0.2"/>
    </default>
    <default class="knee">
      <joint axis="0 1 0" damping="0.1" armature="0.01" frictionloss="0.2"/>
    </default>
  </default>

    <asset>
        <material name="metal" rgba=".9 .95 .95 1" />
        <material name="black" rgba="0 0 0 1" />
        <material name="white" rgba="1 1 1 1" />
        <material name="gray" rgba="0.75294 0.75294 0.75294 1" />
        <material name="transparent" rgba="1 1 1 0.01" />

        <!-- 基座网格 -->
        <mesh file="base_link.STL" />

        <!-- 腿部网格 -->
        <mesh file="Link_FL_Hip.STL" />
        <mesh file="Link_FL_Thigh.STL" />
        <mesh file="Link_FL_Calf.STL" />
        <mesh file="Link_FL_Foot.STL" />

        <mesh file="Link_FR_Hip.STL" />
        <mesh file="Link_FR_Thigh.STL" />
        <mesh file="Link_FR_Calf.STL" />
        <mesh file="Link_FR_Foot.STL" />

        <mesh file="Link_HL_Hip.STL" />
        <mesh file="Link_HL_Thigh.STL" />
        <mesh file="Link_HL_Calf.STL" />
        <mesh file="Link_HL_Foot.STL" />

        <mesh file="Link_HR_Hip.STL" />
        <mesh file="Link_HR_Thigh.STL" />
        <mesh file="Link_HR_Calf.STL" />
        <mesh file="Link_HR_Foot.STL" />

        <mesh file="Link_Imu.STL" />
    </asset>

    <worldbody>
        <body name="base_link" pos="0 0 0">
            <inertial pos="0.00014047 -0.00088602 0.074729" mass="23.629" diaginertia="0.054484 0.12489 0.12873"/>
            <freejoint/>
            <geom type="mesh" mesh="base_link" material="gray" class="visual"/>
            <geom size="0.1881 0.04675 0.057" type="box" class="collision"/>
            
            <!-- IMU -->
            <site name="imu" pos="-0.0040103 0 0.114" size="0.01"/>
            <geom pos="-0.0040103 0 0.114" type="mesh" mesh="Link_Imu" class="visual" material="white"/>
            
            <!-- 前左腿 -->
            <body name="FL_hip" pos="0.2635 0.0975 0.088">
                <inertial pos="0.071488 -0.01672 -4.7324E-05" mass="2.9" diaginertia="0.00042335 0.0010234 0.00063315"/>
                <joint name="FL_hip_joint" class="abduction" range="-0.78 0.78"/>
                <geom type="mesh" mesh="Link_FL_Hip" class="visual"/>
                <geom size="0.046 0.02" type="cylinder" class="collision"/>
                <body name="FL_thigh" pos="0.07725 0.01475 0">
                    <inertial pos="-0.044216 0.098313 -0.056091" mass="5.58" diaginertia="0.013192 0.022095 0.0093309"/>
                    <joint name="FL_thigh_joint" class="hip" range="-1.22 2.61"/>
                    <geom type="mesh" mesh="Link_FL_Thigh" class="visual"/>
                    <geom size="0.1065 0.01225 0.017" type="box" class="collision"/>
                    <body name="FL_calf" pos="-0.17662 0.11925 -0.27282" quat="0.916975 0 -0.398944 0">
                        <inertial pos="0.00831504007924233 2.04280116085087E-05 -0.149346339600864" mass="1.0558984918551" diaginertia="0.0158759027698112 0.0161104978528813 0.000461995654151211"/>
                        <joint name="FL_calf_joint" class="knee" range="-1.3 0.52"/>
                        <geom type="mesh" mesh="Link_FL_Calf" class="visual"/>
                        <geom size="0.013 0.06" type="cylinder" class="collision"/>
                        <body name="FL_foot" pos="-0.0052369 -3.0756E-05 -0.33328" quat="0.916975 0 0.398944 0">
                            <inertial pos="2.03976966761665E-07 -3.49370387453529E-06 -0.0232846790067169" mass="0.207210160440462" diaginertia="8.28679461308315E-05 0.000134761885893141 0.000154364742055223"/>
                            <geom type="mesh" mesh="Link_FL_Foot" material="black" class="visual"/>
                            <geom size="0.027" type="sphere" class="collision" material="transparent"/>
                            <site name="FL_foot_site" pos="0 0 0" size="0.005"/>
                        </body>
                    </body>
                </body>
            </body>

            <!-- 前右腿-->
            <body name="FR_hip" pos="0.2635 -0.0975 0.088">
                <inertial pos="0.071488 0.01672 4.7324E-05" mass="2.9" diaginertia="0.00042335 0.0010234 0.00063315"/>
                <joint name="FR_hip_joint" class="abduction" range="-0.78 0.78"/>
                <geom type="mesh" mesh="Link_FR_Hip" class="visual"/>
                <geom size="0.046 0.02" type="cylinder" class="collision"/>
                <body name="FR_thigh" pos="0.07725 -0.01475 0">
                    <inertial pos="-0.044283 -0.09836 -0.056051" mass="5.58" diaginertia="0.013228 0.022116 0.0093162"/>
                    <joint name="FR_thigh_joint" class="hip" range="-1.22 2.61"/>
                    <geom type="mesh" mesh="Link_FR_Thigh" class="visual"/>
                    <geom size="0.1065 0.01225 0.017" type="box" class="collision"/>
                    <body name="FR_calf" pos="-0.17662 -0.11925 -0.27282" quat="0.916975 0 -0.398944 0">
                        <inertial pos="0.00831504035394826 2.04277784137952E-05 -0.149346341163595" mass="1.05589847316517" diaginertia="0.0158759025959391 0.016110497677588 0.000461995644802376"/>
                        <joint name="FR_calf_joint" class="knee" range="-1.3 0.52"/>
                        <geom type="mesh" mesh="Link_FR_Calf" class="visual"/>
                        <geom size="0.013 0.06" type="cylinder" class="collision"/>
                        <body name="FR_foot" pos="-0.0052369 -3.0756E-05 -0.33328" quat="0.916975 0 0.398944 0">
                            <inertial pos="2.03977359281016E-07 -3.49370187453529E-06 -0.0232846790067169" mass="0.207210160440462" diaginertia="8.28679461308315E-05 0.000134761885893141 0.000154364742055223"/>
                            <geom type="mesh" mesh="Link_FR_Foot" material="black" class="visual"/>
                            <geom size="0.027" type="sphere" class="collision" material="transparent"/>
                            <site name="FR_foot_site" pos="0 0 0" size="0.005"/>
                        </body>
                    </body>
                </body>
            </body>

            <!-- 后左腿-->
            <body name="HL_hip" pos="-0.2635 0.0975 0.088">
                <inertial pos="-0.071488 -0.01672 4.7324E-05" mass="2.9" diaginertia="0.00042335 0.0010234 0.00063315"/>
                <joint name="HL_hip_joint" class="abduction" range="-0.78 0.78"/>
                <geom type="mesh" mesh="Link_HL_Hip" class="visual"/>
                <geom size="0.046 0.02" type="cylinder" class="collision"/>
                <body name="HL_thigh" pos="-0.07725 0.01475 0">
                    <inertial pos="-0.044216 0.098313 -0.056091" mass="5.58" diaginertia="0.013192 0.022095 0.0093309"/>
                    <joint name="HL_thigh_joint" class="hip" range="-1.22 2.61"/>
                    <geom type="mesh" mesh="Link_HL_Thigh" class="visual"/>
                    <geom size="0.1065 0.01225 0.017" type="box" class="collision"/>
                    <body name="HL_calf" pos="-0.17662 0.11925 -0.27282" quat="0.916975 0 -0.398944 0">
                        <inertial pos="0.00831504038311021 2.04282154486757E-05 -0.14934634134056" mass="1.05589847179624" diaginertia="0.0158759025719917 0.0161104976518646 0.000461995645412917"/>
                        <joint name="HL_calf_joint" class="knee" range="-1.3 0.52"/>
                        <geom type="mesh" mesh="Link_HL_Calf" class="visual"/>
                        <geom size="0.013 0.06" type="cylinder" class="collision"/>
                        <body name="HL_foot" pos="-0.0052369 -3.0756E-05 -0.33328" quat="0.916975 0 0.398944 0">
                            <inertial pos="2.03976984913812E-07 -3.49370198221566E-06 -0.0232846790072918" mass="0.207210160452256" diaginertia="8.28679461309755E-05 0.000134761885893068 0.000154364742053954"/>
                            <geom type="mesh" mesh="Link_HL_Foot" material="black" class="visual"/>
                            <geom size="0.027" type="sphere" class="collision" material="transparent"/>
                            <site name="HL_foot_site" pos="0 0 0" size="0.005"/>
                        </body>
                    </body>
                </body>
            </body>

            <!-- 后右腿-->
            <body name="HR_hip" pos="-0.2635 -0.0975 0.088">
                <inertial pos="-0.071488 0.01672 -4.7324E-05" mass="2.9" diaginertia="0.00042335 0.0010234 0.00063315"/>
                <joint name="HR_hip_joint" class="abduction" range="-0.78 0.78"/>
                <geom type="mesh" mesh="Link_HR_Hip" class="visual"/>
                <geom size="0.046 0.02" type="cylinder" class="collision"/>
                <body name="HR_thigh" pos="-0.07725 -0.01475 0">
                    <inertial pos="-0.044283 -0.09836 -0.056051" mass="5.58" diaginertia="0.013228 0.022116 0.0093162"/>
                    <joint name="HR_thigh_joint" class="hip" range="-1.22 2.61"/>
                    <geom type="mesh" mesh="Link_HR_Thigh" class="visual"/>
                    <geom size="0.1065 0.01225 0.017" type="box" class="collision"/>
                    <body name="HR_calf" pos="-0.17662 -0.11925 -0.27282" quat="0.916975 0 -0.398944 0">
                        <inertial pos="0.00831504035394826 2.04277784137952E-05 -0.149346341163595" mass="1.05589847316517" diaginertia="0.0158759025959391 0.016110497677588 0.000461995644802376"/>
                        <joint name="HR_calf_joint" class="knee" range="-1.3 0.52"/>
                        <geom type="mesh" mesh="Link_HR_Calf" class="visual"/>
                        <geom size="0.013 0.06" type="cylinder" class="collision"/>
                        <body name="HR_foot" pos="-0.0052369 -3.0756E-05 -0.33328" quat="0.916975 0 0.398944 0">
                            <inertial pos="2.03977359281016E-07 -3.49370187453529E-06 -0.0232846790067169" mass="0.207210160452256" diaginertia="8.28679461309755E-05 0.000134761885893068 0.000154364742053954"/>
                            <geom type="mesh" mesh="Link_HR_Foot" material="black" class="visual"/>
                            <geom size="0.027" type="sphere" class="collision" material="transparent"/>
                            <site name="HR_foot_site" pos="0 0 0" size="0.005"/>
                        </body>
                    </body>
                </body>
            </body>
            
        </body>
    </worldbody>

    <actuator>
        <motor joint="FL_hip_joint" name="FL_hip_motor" class="actuator"/>
        <motor joint="FL_thigh_joint" name="FL_thigh_motor" class="actuator"/>
        <motor joint="FL_calf_joint" name="FL_calf_motor" class="actuator"/>

        <motor joint="FR_hip_joint" name="FR_hip_motor" class="actuator"/>
        <motor joint="FR_thigh_joint" name="FR_thigh_motor" class="actuator"/>
        <motor joint="FR_calf_joint" name="FR_calf_motor" class="actuator"/>

        <motor joint="HL_hip_joint" name="HL_hip_motor" class="actuator"/>
        <motor joint="HL_thigh_joint" name="HL_thigh_motor" class="actuator"/>
        <motor joint="HL_calf_joint" name="HL_calf_motor" class="actuator"/>

        <motor joint="HR_hip_joint" name="HR_hip_motor" class="actuator"/>
        <motor joint="HR_thigh_joint" name="HR_thigh_motor" class="actuator"/>
        <motor joint="HR_calf_joint" name="HR_calf_motor" class="actuator"/>
    </actuator>

    <sensor>
        <!-- 关节位置传感器 -->
        <jointpos name="FL_hip_pos" joint="FL_hip_joint"/>
        <jointpos name="FL_thigh_pos" joint="FL_thigh_joint"/>
        <jointpos name="FL_calf_pos" joint="FL_calf_joint"/>
        
        <jointpos name="FR_hip_pos" joint="FR_hip_joint"/>
        <jointpos name="FR_thigh_pos" joint="FR_thigh_joint"/>
        <jointpos name="FR_calf_pos" joint="FR_calf_joint"/>
        
        <jointpos name="HL_hip_pos" joint="HL_hip_joint"/>
        <jointpos name="HL_thigh_pos" joint="HL_thigh_joint"/>
        <jointpos name="HL_calf_pos" joint="HL_calf_joint"/>
        
        <jointpos name="HR_hip_pos" joint="HR_hip_joint"/>
        <jointpos name="HR_thigh_pos" joint="HR_thigh_joint"/>
        <jointpos name="HR_calf_pos" joint="HR_calf_joint"/>

        <!-- 关节速度传感器 -->
        <jointvel name="FL_hip_vel" joint="FL_hip_joint"/>
        <jointvel name="FL_thigh_vel" joint="FL_thigh_joint"/>
        <jointvel name="FL_calf_vel" joint="FL_calf_joint"/>
        
        <jointvel name="FR_hip_vel" joint="FR_hip_joint"/>
        <jointvel name="FR_thigh_vel" joint="FR_thigh_joint"/>
        <jointvel name="FR_calf_vel" joint="FR_calf_joint"/>
        
        <jointvel name="HL_hip_vel" joint="HL_hip_joint"/>
        <jointvel name="HL_thigh_vel" joint="HL_thigh_joint"/>
        <jointvel name="HL_calf_vel" joint="HL_calf_joint"/>
        
        <jointvel name="HR_hip_vel" joint="HR_hip_joint"/>
        <jointvel name="HR_thigh_vel" joint="HR_thigh_joint"/>
        <jointvel name="HR_calf_vel" joint="HR_calf_joint"/>

        <!-- 关节扭矩传感器 -->
        <jointactuatorfrc name="FL_hip_torque" joint="FL_hip_joint"/>
        <jointactuatorfrc name="FL_thigh_torque" joint="FL_thigh_joint"/>
        <jointactuatorfrc name="FL_calf_torque" joint="FL_calf_joint"/>
        
        <jointactuatorfrc name="FR_hip_torque" joint="FR_hip_joint"/>
        <jointactuatorfrc name="FR_thigh_torque" joint="FR_thigh_joint"/>
        <jointactuatorfrc name="FR_calf_torque" joint="FR_calf_joint"/>
        
        <jointactuatorfrc name="HL_hip_torque" joint="HL_hip_joint"/>
        <jointactuatorfrc name="HL_thigh_torque" joint="HL_thigh_joint"/>
        <jointactuatorfrc name="HL_calf_torque" joint="HL_calf_joint"/>
        
        <jointactuatorfrc name="HR_hip_torque" joint="HR_hip_joint"/>
        <jointactuatorfrc name="HR_thigh_torque" joint="HR_thigh_joint"/>
        <jointactuatorfrc name="HR_calf_torque" joint="HR_calf_joint"/>

        <!-- IMU传感器 -->
        <accelerometer name="imu_acc" site="imu"/>
        <gyro name="imu_gyro" site="imu"/>
        <framequat name="imu_quat" objtype="site" objname="imu"/>
        <framepos name="base_pos" objtype="site" objname="imu"/>
        <framelinvel name="base_vel" objtype="site" objname="imu"/>
        <frameangvel name="base_angvel" objtype="site" objname="imu"/>

    </sensor>

</mujoco>